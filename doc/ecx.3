.\" Text automatically generated by txt2man
.TH ecx 1 "16 January 2026" "0.1.0dev0+fb2fe0a" "User commands"
.SH NAME
\fBecx \fP- library for electrochemistry
\fB
.SH LIBRARY
ecx (\fB-libecx\fP, \fB-lecx\fP)
.SH SYNOPSIS
.nf
.fam C
  ecx (Fortran): use ecx
  ecx (C): include "ecx.h"
  ecx (python): import pyecx

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION
ecx a Fortran library for providing a collection of routines for electrochemistry.
A C API allows usage from C, or can be used as a basis for other wrappers.
A Python wrapper allows easy usage from Python.
.PP
It covers:
.RS
.TP
.B
o kinetics
Nernst, Butler-Volmer
.TP
.B
o electrochemical
Impedance, Admittance, Circuit Elements, Equivalent Circuits
.TP
.B
o photoelectrochemistry
Photocurrent, Band-gap, space charge.
.RE
.PP
The C API is defined by adding a prefix to the functions from the Fortran
API due to the lack of module/namespace feature in the C language.
The functions are therefore following this template:
(c_prefix)fortran_func.
.RS
.IP \(bu 3
(ecx_)get_version
.IP \(bu 3
(ecx_core_)kTe
.IP \(bu 3
(ecx_eis_)z
.IP \(bu 3
mm
.IP \(bu 3
(ecx_kinetics_)nernst
.IP \(bu 3
(ecx_kinetics_)sbv
.IP \(bu 3
(ecx_kinetics_)bv
.IP \(bu 3
(ecx_eis_)z
.SH NOTES
To use ecx within your fpm <https://github.com/fortran-lang/fpm>
project, add the following lines to your file:
.PP
.nf
.fam C
        [dependencies]
        ecx = { git="https://github.com/MilanSkocic/ecx.git" }

.fam T
.fi
.SH EXAMPLE
Example in Fortran:
.PP
.nf
.fam C
        program example_in_f
            use iso_fortran_env
            use ecx
            implicit none

            real(real64) :: w(3) = [1.0d0, 1.0d0, 100.0d0]
            real(real64) :: r = 100.0d0
            real(real64) :: p(3) = 0.0d0
            character(len=1) :: e
            integer :: errstat
            complex(real64) :: zout(3)
            character(len=:), pointer :: errmsg

            p(1) = r
            e = "R"
            call z(p, w, zout, e, errstat, errmsg)
            print *, zout
            print *, errstat, errmsg
        end program

.fam T
.fi
Example in C:
.PP
.nf
.fam C
        int main(void){
            int errstat, i;
            double w[3] = {1.0, 1.0, 1.0};
            double p[3] = {100.00, 0.0, 0.0};
            ecx_cdouble z[3] = {ecx_cbuild(0.0,0.0),
                                ecx_cbuild(0.0, 0.0),
                                ecx_cbuild(0.0, 0.0)};
            char *errmsg;

            ecx_eis_z(p, w, z, 'R', 3, 3, &errstat, &errmsg);

            for(i=0; i<3;i++){
                printf("%f %f \n", creal(z[i]), cimag(z[i]));
            }
            printf("%d %s\n", errstat, errmsg);
            return EXIT_SUCCESS;
        }

.fam T
.fi
Example in Python:
.PP
.nf
.fam C
        import numpy as np
        import pyecx
        import matplotlib.pyplot as plt

        R = 100
        C = 1e-6
        w = np.logspace(6, -3, 100)

        p = np.asarray([R, 0.0, 0.0])
        zr = np.asarray(pyecx.z("R", w, p))
        p = np.asarray([C, 0.0, 0.0])
        zc = np.asarray(pyecx.z("C", w, p))
        zrc = zr*zc / (zr+zc)
        print("finish")

        fig = plt.figure()
        ax = fig.add_subplot(111)

        ax.set_aspect("equal")
        ax.plot(zrc.real, zrc.imag, "g.", label="R/C")

        ax.invert_yaxis()

        plt.show()

.fam T
.fi
.SH SEE ALSO
\fBcomplex\fP(7), \fBgsl\fP(3), \fBcatanh\fP(3), \fBgnuplot\fP(1),
\fBecx_get_version\fP(3)
