var tipuesearch = {"pages":[{"title":" ecx ","text":"ecx BACK TO MAIN Developer Info M. Skocic","tags":"home","url":"index.html"},{"title":"assertEqual – ecx","text":"public  function assertEqual(x1, x2, n) result(r) Assert if two numbers are equal. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: x1 First number to be compared. real(kind=dp), intent(in) :: x2 Second number to be compared. integer(kind=int32), intent(in) :: n Number of digits. Return Value logical Comparison result.","tags":"","url":"proc/assertequal.html"},{"title":"deg2rad – ecx","text":"public pure elemental function deg2rad(theta) result(phase) Converts degrees to rad. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: theta Angle in degrees. Return Value real(kind=dp) Angle in rad. Called by proc~~deg2rad~~CalledByGraph proc~deg2rad deg2rad proc~iph iph proc~iph->proc~deg2rad Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/deg2rad.html"},{"title":"nm2eV – ecx","text":"public pure elemental function nm2eV(lambda) result(E) Convert wavelength to energy Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: lambda Wavelength in nm. Return Value real(kind=dp) Energy in eV. Called by proc~~nm2ev~~CalledByGraph proc~nm2ev nm2eV proc~capi_nm2ev capi_nm2eV proc~capi_nm2ev->proc~nm2ev Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/nm2ev.html"},{"title":"rad2deg – ecx","text":"public pure elemental function rad2deg(phase) result(theta) Converts degrees to rad. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: phase Angle in rad. Return Value real(kind=dp) Angle in degrees.","tags":"","url":"proc/rad2deg.html"},{"title":"roundn – ecx","text":"public pure elemental function roundn(x, n) result(r) Round x to n digits. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: x Number to be rounded. integer(kind=int32), intent(in) :: n Number of digits.s Return Value real(kind=dp) Rounded number","tags":"","url":"proc/roundn.html"},{"title":"capi_get_version – ecx","text":"public  function capi_get_version() result(cptr) bind(c, name=\"ecx_get_version\")) C API - Get the version. Arguments None Return Value type(c_ptr) Pointer to version string. Calls proc~~capi_get_version~~CallsGraph proc~capi_get_version capi_get_version proc~get_version get_version proc~capi_get_version->proc~get_version Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Variables Type Visibility Attributes Name Initial character(len=:), public, pointer :: fptr","tags":"","url":"proc/capi_get_version.html"},{"title":"capi_nernst – ecx","text":"public pure function capi_nernst(E0, z, aox, vox, nox, ared, vred, nred, T) result(E) bind(C, name=\"ecx_kinetics_nernst\") Compute the Nernst electrochemical potential in V. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in), value :: E0 Standard electrochemical potential in V. integer(kind=c_int), intent(in), value :: z Number of exchanged electrons. real(kind=c_double), intent(in) :: aox (nox) Activities of the oxidants. real(kind=c_double), intent(in) :: vox (nox) Coefficients for the oxidants. integer(kind=c_size_t), intent(in), value :: nox Number of oxidants. real(kind=c_double), intent(in) :: ared (nred) Activities of the reductants real(kind=c_double), intent(in) :: vred (nred) Coefficients for the reductants. integer(kind=c_size_t), intent(in), value :: nred Number of reductants. real(kind=c_double), intent(in), value :: T Temperature in °C. Return Value real(kind=c_double) Calls proc~~capi_nernst~~CallsGraph proc~capi_nernst capi_nernst proc~nernst nernst proc~capi_nernst->proc~nernst proc~kte kTe proc~nernst->proc~kte Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/capi_nernst.html"},{"title":"capi_bv – ecx","text":"public pure subroutine capi_bv(U, OCV, j0, jdla, jdlc, aa, ac, za, zc, A, T, I, n) bind(c, name=\"ecx_kinetics_bv\") Compute Butler Volmer equation without mass transport. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: U (n) Potential in volts. real(kind=c_double), intent(in), value :: OCV Open circuit potential in volts. real(kind=c_double), intent(in), value :: j0 Exchange current density in A.cm-2 real(kind=c_double), intent(in), value :: jdla Anodic diffusion limiting current density in A.cm-2. real(kind=c_double), intent(in), value :: jdlc Cathodic diffusion limiting current density in A.cm-2. real(kind=c_double), intent(in), value :: aa Anodic transfert coefficient. real(kind=c_double), intent(in), value :: ac Cathodic transfert coefficient. real(kind=c_double), intent(in), value :: za Number of exchanged electrons in anodic branch. real(kind=c_double), intent(in), value :: zc Number of exchanged electrons in cathodic branch. real(kind=c_double), intent(in), value :: A Area in cm2. real(kind=c_double), intent(in), value :: T Temperature in °C. real(kind=c_double), intent(out) :: I (n) Current in A. integer(kind=c_size_t), intent(in), value :: n Size of U and I. Calls proc~~capi_bv~~CallsGraph proc~capi_bv capi_bv proc~bv bv proc~capi_bv->proc~bv proc~kte kTe proc~bv->proc~kte proc~sbv sbv proc~bv->proc~sbv proc~sbv->proc~kte Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/capi_bv.html"},{"title":"capi_kTe – ecx","text":"public pure subroutine capi_kTe(T, kTe_, n) bind(C, name=\"ecx_core_kTe\") Compute the thermal voltage. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: T (n) Temperature in °C. real(kind=c_double), intent(out) :: kTe_ (n) Thermal voltage in V. integer(kind=c_size_t), intent(in), value :: n Size of T and kTe. Calls proc~~capi_kte~~CallsGraph proc~capi_kte capi_kTe proc~kte kTe proc~capi_kte->proc~kte Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/capi_kte.html"},{"title":"capi_nm2eV – ecx","text":"public pure subroutine capi_nm2eV(lambda, E, n) bind(C, name=\"ecx_core_nm2eV\") C API - Convert wavelength to energy Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: lambda (n) Wavelength in nm. real(kind=c_double), intent(out) :: E (n) Energy in eV. integer(kind=c_size_t), intent(in), value :: n Size of lambda and E. Calls proc~~capi_nm2ev~~CallsGraph proc~capi_nm2ev capi_nm2eV proc~nm2ev nm2eV proc~capi_nm2ev->proc~nm2ev Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/capi_nm2ev.html"},{"title":"capi_sbv – ecx","text":"public pure subroutine capi_sbv(U, OCV, j0, aa, ac, za, zc, A, T, I, n) bind(c, name=\"ecx_kinetics_sbv\") Compute Butler Volmer equation without mass transport. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: U (n) Potential in volts. real(kind=c_double), intent(in), value :: OCV Open circuit potential in volts. real(kind=c_double), intent(in), value :: j0 Exchange current density in A.cm-2. real(kind=c_double), intent(in), value :: aa Anodic transfert coefficient. real(kind=c_double), intent(in), value :: ac Cathodic transfert coefficient. real(kind=c_double), intent(in), value :: za Number of exchanged electrons in anodic branch. real(kind=c_double), intent(in), value :: zc Number of exchanged electrons in cathodic branch. real(kind=c_double), intent(in), value :: A Area in cm2. real(kind=c_double), intent(in), value :: T Temperature in °C. real(kind=c_double), intent(out) :: I (n) Current in A. integer(kind=c_size_t), intent(in), value :: n Size of U and I. Calls proc~~capi_sbv~~CallsGraph proc~capi_sbv capi_sbv proc~sbv sbv proc~capi_sbv->proc~sbv proc~kte kTe proc~sbv->proc~kte Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/capi_sbv.html"},{"title":"capi_z – ecx","text":"public  subroutine capi_z(p, w, zout, e, k, n, errstat, errmsg) bind(C, name=\"ecx_eis_z\") Compute the complex impedance for the given element. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: p (k) Parameters. real(kind=c_double), intent(in) :: w (n) Angular frequencies in rad.s-1 complex(kind=c_double_complex), intent(out) :: zout (n) Complex impedance in Ohms. character(kind=c_char, len=1), intent(in), value :: e Electrochemical element: R, C, L, Q, O, T, G integer(kind=c_size_t), intent(in), value :: k Size of p integer(kind=c_size_t), intent(in), value :: n Size of w integer(kind=c_int), intent(out) :: errstat Error status type(c_ptr), intent(out) :: errmsg errmsg Error message Calls proc~~capi_z~~CallsGraph proc~capi_z capi_z proc~z z proc~capi_z->proc~z proc~zc zc proc~z->proc~zc proc~zg zg proc~z->proc~zg proc~zl zl proc~z->proc~zl proc~zo zo proc~z->proc~zo proc~zq zq proc~z->proc~zq proc~zr zr proc~z->proc~zr proc~zt zt proc~z->proc~zt proc~zw zw proc~z->proc~zw Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Variables Type Visibility Attributes Name Initial character(len=:), public, pointer :: fptr","tags":"","url":"proc/capi_z.html"},{"title":"get_help_saw – ecx","text":"function get_help_saw() result(res) Get the help text for the subcommand saw. Arguments None Return Value character(len=80), allocatable, (:) Called by proc~~get_help_saw~~CalledByGraph proc~get_help_saw get_help_saw program~ecxcli ecxcli program~ecxcli->proc~get_help_saw Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/get_help_saw.html"},{"title":"print_text – ecx","text":"subroutine print_text(char_fp) Arguments Type Intent Optional Attributes Name character(len=:), intent(in), pointer :: char_fp (:) Called by proc~~print_text~~CalledByGraph proc~print_text print_text program~ecxcli ecxcli program~ecxcli->proc~print_text Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Variables Type Visibility Attributes Name Initial integer, public :: i","tags":"","url":"proc/print_text.html"},{"title":"bv – ecx","text":"public pure elemental function bv(U, OCV, j0, jdla, jdlc, aa, ac, za, zc, A, T) result(I) Compute Butler Volmer equation with mass transport. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: U Electrochemical potential in V. real(kind=dp), intent(in) :: OCV Open Circuit Voltage in V. real(kind=dp), intent(in) :: j0 Exchange current density in A.cm-2. real(kind=dp), intent(in) :: jdla Anodic diffusion limiting current density in A.cm-2. real(kind=dp), intent(in) :: jdlc Cathodic diffusion limiting current density in A.cm-2. real(kind=dp), intent(in) :: aa Anodic transfer coefficient. real(kind=dp), intent(in) :: ac Cathodic transfer coefficient. real(kind=dp), intent(in) :: za Number of exchnaged electrons in the anodic branch. real(kind=dp), intent(in) :: zc Number of exchnaged electrons in the cathodic branch. real(kind=dp), intent(in) :: A Area in cm2. real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) Calls proc~~bv~~CallsGraph proc~bv bv proc~kte kTe proc~bv->proc~kte proc~sbv sbv proc~bv->proc~sbv proc~sbv->proc~kte Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Called by proc~~bv~~CalledByGraph proc~bv bv proc~capi_bv capi_bv proc~capi_bv->proc~bv Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/bv.html"},{"title":"get_version – ecx","text":"public  function get_version() result(fptr) Get the version. Arguments None Return Value character(len=:), pointer Version of the library. Called by proc~~get_version~~CalledByGraph proc~get_version get_version proc~capi_get_version capi_get_version proc~capi_get_version->proc~get_version program~ecxcli ecxcli program~ecxcli->proc~get_version Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/get_version.html"},{"title":"kTe – ecx","text":"public pure elemental function kTe(T) result(r) Compute the thermal voltage. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) Thermal voltage in V. Called by proc~~kte~~CalledByGraph proc~kte kTe proc~bv bv proc~bv->proc~kte proc~sbv sbv proc~bv->proc~sbv proc~capi_kte capi_kTe proc~capi_kte->proc~kte proc~nernst nernst proc~nernst->proc~kte proc~sbv->proc~kte proc~capi_bv capi_bv proc~capi_bv->proc~bv proc~capi_nernst capi_nernst proc~capi_nernst->proc~nernst proc~capi_sbv capi_sbv proc~capi_sbv->proc~sbv Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/kte.html"},{"title":"nernst – ecx","text":"public pure function nernst(E0, z, aox, vox, ared, vred, T) result(E) Compute the Nernst electrochemical potential in V. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: E0 Standard electrochemical potential in V. integer(kind=int32), intent(in) :: z Number of exchanged electrons. real(kind=dp), intent(in) :: aox (:) Activities of the oxidants. real(kind=dp), intent(in) :: vox (:) Coefficients for the oxidants. real(kind=dp), intent(in) :: ared (:) Activities of the reductants real(kind=dp), intent(in) :: vred (:) Coefficients for the reductants. real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) Calls proc~~nernst~~CallsGraph proc~nernst nernst proc~kte kTe proc~nernst->proc~kte Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Called by proc~~nernst~~CalledByGraph proc~nernst nernst proc~capi_nernst capi_nernst proc~capi_nernst->proc~nernst Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/nernst.html"},{"title":"sbv – ecx","text":"public pure elemental function sbv(U, OCV, j0, aa, ac, za, zc, A, T) result(I) Compute Butler Volmer equation without mass transport. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: U Electrochemical potential in V. real(kind=dp), intent(in) :: OCV Open Circuit Voltage in V. real(kind=dp), intent(in) :: j0 Exchange current density in A.cm-2. real(kind=dp), intent(in) :: aa Anodic transfer coefficient. real(kind=dp), intent(in) :: ac Cathodic transfer coefficient. real(kind=dp), intent(in) :: za Number of exchnaged electrons in the anodic branch. real(kind=dp), intent(in) :: zc Number of exchnaged electrons in the cathodic branch. real(kind=dp), intent(in) :: A Area in cm2. real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) Calls proc~~sbv~~CallsGraph proc~sbv sbv proc~kte kTe proc~sbv->proc~kte Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Called by proc~~sbv~~CalledByGraph proc~sbv sbv proc~bv bv proc~bv->proc~sbv proc~capi_sbv capi_sbv proc~capi_sbv->proc~sbv proc~capi_bv capi_bv proc~capi_bv->proc~bv Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/sbv.html"},{"title":"mm – ecx","text":"public  subroutine mm(p, w, zout, n) Compute the measurement model. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: p (:) Parameters. real(kind=dp), intent(in) :: w (:) Angular frequencies in rad.s-1 complex(kind=dp), intent(out) :: zout (:) Complex impedance in Ohms. integer(kind=int32), intent(in) :: n Number of voigt elements. Calls proc~~mm~~CallsGraph proc~mm mm proc~z z proc~mm->proc~z proc~zc zc proc~z->proc~zc proc~zg zg proc~z->proc~zg proc~zl zl proc~z->proc~zl proc~zo zo proc~z->proc~zo proc~zq zq proc~z->proc~zq proc~zr zr proc~z->proc~zr proc~zt zt proc~z->proc~zt proc~zw zw proc~z->proc~zw Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/mm.html"},{"title":"z – ecx","text":"public  subroutine z(p, w, zout, e, errstat, errmsg) Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: p (:) real(kind=dp), intent(in) :: w (:) Angular frequencies in rad.s-1 complex(kind=dp), intent(out) :: zout (:) Complex impedance in Ohms. character(len=1), intent(in) :: e Electrochemical element: R, C, L, Q, O, T, G integer(kind=int32), intent(out) :: errstat Error status character(len=:), intent(out), pointer :: errmsg Error message Calls proc~~z~~CallsGraph proc~z z proc~zc zc proc~z->proc~zc proc~zg zg proc~z->proc~zg proc~zl zl proc~z->proc~zl proc~zo zo proc~z->proc~zo proc~zq zq proc~z->proc~zq proc~zr zr proc~z->proc~zr proc~zt zt proc~z->proc~zt proc~zw zw proc~z->proc~zw Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Called by proc~~z~~CalledByGraph proc~z z proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/z.html"},{"title":"alpha – ecx","text":"public pure elemental function alpha(hv, Eg, n) result(res) Compute the not scaled absorbance coefficient. Arguments Type Intent Optional Attributes Name real(kind=real64), intent(in) :: hv Light energy in eV. real(kind=real64), intent(in) :: Eg Bandgap in eV. real(kind=real64), intent(in) :: n Exponent for direct (1/2) or indirect transition (2) Return Value real(kind=real64) Absorbance coefficient in eV. Called by proc~~alpha~~CalledByGraph proc~alpha alpha proc~iph iph proc~iph->proc~alpha Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/alpha.html"},{"title":"iph – ecx","text":"public pure elemental function iph(hv, K, Eg, theta, n) result(res) Compute the complex photocurrent\nCompute the complex photocurrent. Arguments Type Intent Optional Attributes Name real(kind=real64), intent(in) :: hv Light energy in eV. real(kind=real64), intent(in) :: K Scaling factor for absorbance in . real(kind=real64), intent(in) :: Eg Bandgap in eV. real(kind=real64), intent(in) :: theta Phase in degree. real(kind=real64), intent(in) :: n Transition type: n=1/2 for direct transition and n=2 for indirect transition Return Value complex(kind=real64) Complex photocurrent Iph Calls proc~~iph~~CallsGraph proc~iph iph proc~alpha alpha proc~iph->proc~alpha proc~deg2rad deg2rad proc~iph->proc~deg2rad Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/iph.html"},{"title":"zc – ecx","text":"public pure elemental function zc(w, C) result(Z) Compute the complex impedance for a capacitor. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: C Capacitance in Farad. Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zc~~CalledByGraph proc~zc zc proc~z z proc~z->proc~zc proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zc.html"},{"title":"zg – ecx","text":"public pure elemental function zg(w, G, K) result(Z) Compute the complex impedance of the Gerisher element. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequency in rad.s&#94;-1. real(kind=dp), intent(in) :: G Pseudo-Resistance in Ohms.s&#94;(1/2). real(kind=dp), intent(in) :: K Offset in rad.s&#94;-1. Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zg~~CalledByGraph proc~zg zg proc~z z proc~z->proc~zg proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zg.html"},{"title":"zl – ecx","text":"public pure elemental function zl(w, L) result(Z) Compute the complex impedance for an inductor. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: L Inductance in Henry. Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zl~~CalledByGraph proc~zl zl proc~z z proc~z->proc~zl proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zl.html"},{"title":"zo – ecx","text":"public pure elemental function zo(w, R, tau, n) result(Z) Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequency in rad.s&#94;-1. real(kind=dp), intent(in) :: R Resistance in Ohms. real(kind=dp), intent(in) :: tau Characteristic time in s. real(kind=dp), intent(in) :: n Order of the fsw. Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zo~~CalledByGraph proc~zo zo proc~z z proc~z->proc~zo proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zo.html"},{"title":"zq – ecx","text":"public pure elemental function zq(w, Q, a) result(Z) Compute the complex impedance for a CPE. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: Q Resistance in S.s&#94;-a real(kind=dp), intent(in) :: a CPE exponent Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zq~~CalledByGraph proc~zq zq proc~z z proc~z->proc~zq proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zq.html"},{"title":"zr – ecx","text":"public pure elemental function zr(w, R) result(Z) Compute the complex impedance for a resistor. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: R Resistance in Ohms. Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zr~~CalledByGraph proc~zr zr proc~z z proc~z->proc~zr proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zr.html"},{"title":"zt – ecx","text":"public pure elemental function zt(w, R, tau, n) result(Z) Compute the complex impedance for a finite space warburg Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequency in rad.s&#94;-1. real(kind=dp), intent(in) :: R Resistance in Ohms. real(kind=dp), intent(in) :: tau Characteristic time in s. real(kind=dp), intent(in) :: n Order of the fsw. Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zt~~CalledByGraph proc~zt zt proc~z z proc~z->proc~zt proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zt.html"},{"title":"zw – ecx","text":"public pure elemental function zw(w, s) result(Z) Compute the complex impedance for a semi-infinite Warburg. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: s Pseudo-Resistance in Ohms.s&#94;(1/2). Return Value complex(kind=dp) Complex impedance in Ohms. Called by proc~~zw~~CalledByGraph proc~zw zw proc~z z proc~z->proc~zw proc~capi_z capi_z proc~capi_z->proc~z proc~mm mm proc~mm->proc~z Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module.","tags":"","url":"proc/zw.html"},{"title":"ecx__core – ecx","text":"Core. Uses ecx__common module~~ecx__core~~UsesGraph module~ecx__core ecx__core module~ecx__common ecx__common module~ecx__core->module~ecx__common ieee_arithmetic ieee_arithmetic module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Used by module~~ecx__core~~UsedByGraph module~ecx__core ecx__core module~ecx__api ecx__api module~ecx__api->module~ecx__core module~ecx__eis ecx__eis module~ecx__api->module~ecx__eis module~ecx__capi ecx__capi module~ecx__capi->module~ecx__core module~ecx__capi->module~ecx__api module~ecx__eis->module~ecx__core module~ecx__pec ecx__pec module~ecx__pec->module~ecx__core module~ecx ecx module~ecx->module~ecx__api module~ecx->module~ecx__capi program~ecxcli ecxcli program~ecxcli->module~ecx Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Functions public  function assertEqual (x1, x2, n) result(r) Assert if two numbers are equal. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: x1 First number to be compared. real(kind=dp), intent(in) :: x2 Second number to be compared. integer(kind=int32), intent(in) :: n Number of digits. Return Value logical Comparison result. public pure elemental function deg2rad (theta) result(phase) Converts degrees to rad. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: theta Angle in degrees. Return Value real(kind=dp) Angle in rad. public pure elemental function nm2eV (lambda) result(E) Convert wavelength to energy Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: lambda Wavelength in nm. Return Value real(kind=dp) Energy in eV. public pure elemental function rad2deg (phase) result(theta) Converts degrees to rad. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: phase Angle in rad. Return Value real(kind=dp) Angle in degrees. public pure elemental function roundn (x, n) result(r) Round x to n digits. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: x Number to be rounded. integer(kind=int32), intent(in) :: n Number of digits.s Return Value real(kind=dp) Rounded number","tags":"","url":"module/ecx__core.html"},{"title":"ecx__capi – ecx","text":"Uses ecx__api ecx__common ecx__core module~~ecx__capi~~UsesGraph module~ecx__capi ecx__capi module~ecx__api ecx__api module~ecx__capi->module~ecx__api module~ecx__common ecx__common module~ecx__capi->module~ecx__common module~ecx__core ecx__core module~ecx__capi->module~ecx__core module~ecx__api->module~ecx__common module~ecx__api->module~ecx__core module~ecx__eis ecx__eis module~ecx__api->module~ecx__eis module~ecx__version ecx__version module~ecx__api->module~ecx__version ieee_arithmetic ieee_arithmetic module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval module~ecx__core->module~ecx__common module~ecx__eis->module~ecx__common module~ecx__eis->module~ecx__core Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Used by module~~ecx__capi~~UsedByGraph module~ecx__capi ecx__capi module~ecx ecx module~ecx->module~ecx__capi program~ecxcli ecxcli program~ecxcli->module~ecx Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Variables Type Visibility Attributes Name Initial character(len=:), public, allocatable, target :: errmsg_c character(len=:), public, allocatable, target :: version_c Functions public  function capi_get_version () result(cptr) bind(c, name=\"ecx_get_version\")) C API - Get the version. Arguments None Return Value type(c_ptr) Pointer to version string. public pure function capi_nernst (E0, z, aox, vox, nox, ared, vred, nred, T) result(E) bind(C, name=\"ecx_kinetics_nernst\") Compute the Nernst electrochemical potential in V. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in), value :: E0 Standard electrochemical potential in V. integer(kind=c_int), intent(in), value :: z Number of exchanged electrons. real(kind=c_double), intent(in) :: aox (nox) Activities of the oxidants. real(kind=c_double), intent(in) :: vox (nox) Coefficients for the oxidants. integer(kind=c_size_t), intent(in), value :: nox Number of oxidants. real(kind=c_double), intent(in) :: ared (nred) Activities of the reductants real(kind=c_double), intent(in) :: vred (nred) Coefficients for the reductants. integer(kind=c_size_t), intent(in), value :: nred Number of reductants. real(kind=c_double), intent(in), value :: T Temperature in °C. Return Value real(kind=c_double) Subroutines public pure subroutine capi_bv (U, OCV, j0, jdla, jdlc, aa, ac, za, zc, A, T, I, n) bind(c, name=\"ecx_kinetics_bv\") Compute Butler Volmer equation without mass transport. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: U (n) Potential in volts. real(kind=c_double), intent(in), value :: OCV Open circuit potential in volts. real(kind=c_double), intent(in), value :: j0 Exchange current density in A.cm-2 real(kind=c_double), intent(in), value :: jdla Anodic diffusion limiting current density in A.cm-2. real(kind=c_double), intent(in), value :: jdlc Cathodic diffusion limiting current density in A.cm-2. real(kind=c_double), intent(in), value :: aa Anodic transfert coefficient. real(kind=c_double), intent(in), value :: ac Cathodic transfert coefficient. real(kind=c_double), intent(in), value :: za Number of exchanged electrons in anodic branch. real(kind=c_double), intent(in), value :: zc Number of exchanged electrons in cathodic branch. real(kind=c_double), intent(in), value :: A Area in cm2. real(kind=c_double), intent(in), value :: T Temperature in °C. real(kind=c_double), intent(out) :: I (n) Current in A. integer(kind=c_size_t), intent(in), value :: n Size of U and I. public pure subroutine capi_kTe (T, kTe_, n) bind(C, name=\"ecx_core_kTe\") Compute the thermal voltage. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: T (n) Temperature in °C. real(kind=c_double), intent(out) :: kTe_ (n) Thermal voltage in V. integer(kind=c_size_t), intent(in), value :: n Size of T and kTe. public pure subroutine capi_nm2eV (lambda, E, n) bind(C, name=\"ecx_core_nm2eV\") C API - Convert wavelength to energy Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: lambda (n) Wavelength in nm. real(kind=c_double), intent(out) :: E (n) Energy in eV. integer(kind=c_size_t), intent(in), value :: n Size of lambda and E. public pure subroutine capi_sbv (U, OCV, j0, aa, ac, za, zc, A, T, I, n) bind(c, name=\"ecx_kinetics_sbv\") Compute Butler Volmer equation without mass transport. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: U (n) Potential in volts. real(kind=c_double), intent(in), value :: OCV Open circuit potential in volts. real(kind=c_double), intent(in), value :: j0 Exchange current density in A.cm-2. real(kind=c_double), intent(in), value :: aa Anodic transfert coefficient. real(kind=c_double), intent(in), value :: ac Cathodic transfert coefficient. real(kind=c_double), intent(in), value :: za Number of exchanged electrons in anodic branch. real(kind=c_double), intent(in), value :: zc Number of exchanged electrons in cathodic branch. real(kind=c_double), intent(in), value :: A Area in cm2. real(kind=c_double), intent(in), value :: T Temperature in °C. real(kind=c_double), intent(out) :: I (n) Current in A. integer(kind=c_size_t), intent(in), value :: n Size of U and I. public  subroutine capi_z (p, w, zout, e, k, n, errstat, errmsg) bind(C, name=\"ecx_eis_z\") Compute the complex impedance for the given element. Arguments Type Intent Optional Attributes Name real(kind=c_double), intent(in) :: p (k) Parameters. real(kind=c_double), intent(in) :: w (n) Angular frequencies in rad.s-1 complex(kind=c_double_complex), intent(out) :: zout (n) Complex impedance in Ohms. character(kind=c_char, len=1), intent(in), value :: e Electrochemical element: R, C, L, Q, O, T, G integer(kind=c_size_t), intent(in), value :: k Size of p integer(kind=c_size_t), intent(in), value :: n Size of w integer(kind=c_int), intent(out) :: errstat Error status type(c_ptr), intent(out) :: errmsg errmsg Error message","tags":"","url":"module/ecx__capi.html"},{"title":"ecx – ecx","text":"Main module for ecx. Uses ecx__api ecx__capi module~~ecx~~UsesGraph module~ecx ecx module~ecx__api ecx__api module~ecx->module~ecx__api module~ecx__capi ecx__capi module~ecx->module~ecx__capi module~ecx__common ecx__common module~ecx__api->module~ecx__common module~ecx__core ecx__core module~ecx__api->module~ecx__core module~ecx__eis ecx__eis module~ecx__api->module~ecx__eis module~ecx__version ecx__version module~ecx__api->module~ecx__version module~ecx__capi->module~ecx__api module~ecx__capi->module~ecx__common module~ecx__capi->module~ecx__core ieee_arithmetic ieee_arithmetic module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval module~ecx__core->module~ecx__common module~ecx__eis->module~ecx__common module~ecx__eis->module~ecx__core Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Used by module~~ecx~~UsedByGraph module~ecx ecx program~ecxcli ecxcli program~ecxcli->module~ecx Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses.","tags":"","url":"module/ecx.html"},{"title":"ecx__api – ecx","text":"API Uses ecx__eis ecx__version ecx__common ecx__core module~~ecx__api~~UsesGraph module~ecx__api ecx__api module~ecx__common ecx__common module~ecx__api->module~ecx__common module~ecx__core ecx__core module~ecx__api->module~ecx__core module~ecx__eis ecx__eis module~ecx__api->module~ecx__eis module~ecx__version ecx__version module~ecx__api->module~ecx__version ieee_arithmetic ieee_arithmetic module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval module~ecx__core->module~ecx__common module~ecx__eis->module~ecx__common module~ecx__eis->module~ecx__core Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Used by module~~ecx__api~~UsedByGraph module~ecx__api ecx__api module~ecx ecx module~ecx->module~ecx__api module~ecx__capi ecx__capi module~ecx->module~ecx__capi module~ecx__capi->module~ecx__api program~ecxcli ecxcli program~ecxcli->module~ecx Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Functions public pure elemental function bv (U, OCV, j0, jdla, jdlc, aa, ac, za, zc, A, T) result(I) Compute Butler Volmer equation with mass transport. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: U Electrochemical potential in V. real(kind=dp), intent(in) :: OCV Open Circuit Voltage in V. real(kind=dp), intent(in) :: j0 Exchange current density in A.cm-2. real(kind=dp), intent(in) :: jdla Anodic diffusion limiting current density in A.cm-2. real(kind=dp), intent(in) :: jdlc Cathodic diffusion limiting current density in A.cm-2. real(kind=dp), intent(in) :: aa Anodic transfer coefficient. real(kind=dp), intent(in) :: ac Cathodic transfer coefficient. real(kind=dp), intent(in) :: za Number of exchnaged electrons in the anodic branch. real(kind=dp), intent(in) :: zc Number of exchnaged electrons in the cathodic branch. real(kind=dp), intent(in) :: A Area in cm2. real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) public  function get_version () result(fptr) Get the version. Arguments None Return Value character(len=:), pointer Version of the library. public pure elemental function kTe (T) result(r) Compute the thermal voltage. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) Thermal voltage in V. public pure function nernst (E0, z, aox, vox, ared, vred, T) result(E) Compute the Nernst electrochemical potential in V. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: E0 Standard electrochemical potential in V. integer(kind=int32), intent(in) :: z Number of exchanged electrons. real(kind=dp), intent(in) :: aox (:) Activities of the oxidants. real(kind=dp), intent(in) :: vox (:) Coefficients for the oxidants. real(kind=dp), intent(in) :: ared (:) Activities of the reductants real(kind=dp), intent(in) :: vred (:) Coefficients for the reductants. real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) public pure elemental function sbv (U, OCV, j0, aa, ac, za, zc, A, T) result(I) Compute Butler Volmer equation without mass transport. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: U Electrochemical potential in V. real(kind=dp), intent(in) :: OCV Open Circuit Voltage in V. real(kind=dp), intent(in) :: j0 Exchange current density in A.cm-2. real(kind=dp), intent(in) :: aa Anodic transfer coefficient. real(kind=dp), intent(in) :: ac Cathodic transfer coefficient. real(kind=dp), intent(in) :: za Number of exchnaged electrons in the anodic branch. real(kind=dp), intent(in) :: zc Number of exchnaged electrons in the cathodic branch. real(kind=dp), intent(in) :: A Area in cm2. real(kind=dp), intent(in) :: T Temperature in °C. Return Value real(kind=dp) Subroutines public  subroutine mm (p, w, zout, n) Compute the measurement model. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: p (:) Parameters. real(kind=dp), intent(in) :: w (:) Angular frequencies in rad.s-1 complex(kind=dp), intent(out) :: zout (:) Complex impedance in Ohms. integer(kind=int32), intent(in) :: n Number of voigt elements. public  subroutine z (p, w, zout, e, errstat, errmsg) Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: p (:) real(kind=dp), intent(in) :: w (:) Angular frequencies in rad.s-1 complex(kind=dp), intent(out) :: zout (:) Complex impedance in Ohms. character(len=1), intent(in) :: e Electrochemical element: R, C, L, Q, O, T, G integer(kind=int32), intent(out) :: errstat Error status character(len=:), intent(out), pointer :: errmsg Error message","tags":"","url":"module/ecx__api.html"},{"title":"ecx__pec – ecx","text":"PEC. Uses ecx__common ecx__core module~~ecx__pec~~UsesGraph module~ecx__pec ecx__pec module~ecx__common ecx__common module~ecx__pec->module~ecx__common module~ecx__core ecx__core module~ecx__pec->module~ecx__core ieee_arithmetic ieee_arithmetic module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval module~ecx__core->module~ecx__common Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Functions public pure elemental function alpha (hv, Eg, n) result(res) Compute the not scaled absorbance coefficient. Arguments Type Intent Optional Attributes Name real(kind=real64), intent(in) :: hv Light energy in eV. real(kind=real64), intent(in) :: Eg Bandgap in eV. real(kind=real64), intent(in) :: n Exponent for direct (1/2) or indirect transition (2) Return Value real(kind=real64) Absorbance coefficient in eV. public pure elemental function iph (hv, K, Eg, theta, n) result(res) Compute the complex photocurrent\nCompute the complex photocurrent. Arguments Type Intent Optional Attributes Name real(kind=real64), intent(in) :: hv Light energy in eV. real(kind=real64), intent(in) :: K Scaling factor for absorbance in . real(kind=real64), intent(in) :: Eg Bandgap in eV. real(kind=real64), intent(in) :: theta Phase in degree. real(kind=real64), intent(in) :: n Transition type: n=1/2 for direct transition and n=2 for indirect transition Return Value complex(kind=real64) Complex photocurrent Iph","tags":"","url":"module/ecx__pec.html"},{"title":"ecx__eis – ecx","text":"Uses ecx__common ecx__core module~~ecx__eis~~UsesGraph module~ecx__eis ecx__eis module~ecx__common ecx__common module~ecx__eis->module~ecx__common module~ecx__core ecx__core module~ecx__eis->module~ecx__core ieee_arithmetic ieee_arithmetic module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval module~ecx__core->module~ecx__common Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Used by module~~ecx__eis~~UsedByGraph module~ecx__eis ecx__eis module~ecx__api ecx__api module~ecx__api->module~ecx__eis module~ecx ecx module~ecx->module~ecx__api module~ecx__capi ecx__capi module~ecx->module~ecx__capi module~ecx__capi->module~ecx__api program~ecxcli ecxcli program~ecxcli->module~ecx Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Functions public pure elemental function zc (w, C) result(Z) Compute the complex impedance for a capacitor. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: C Capacitance in Farad. Return Value complex(kind=dp) Complex impedance in Ohms. public pure elemental function zg (w, G, K) result(Z) Compute the complex impedance of the Gerisher element. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequency in rad.s&#94;-1. real(kind=dp), intent(in) :: G Pseudo-Resistance in Ohms.s&#94;(1/2). real(kind=dp), intent(in) :: K Offset in rad.s&#94;-1. Return Value complex(kind=dp) Complex impedance in Ohms. public pure elemental function zl (w, L) result(Z) Compute the complex impedance for an inductor. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: L Inductance in Henry. Return Value complex(kind=dp) Complex impedance in Ohms. public pure elemental function zo (w, R, tau, n) result(Z) Compute the complex impedance for a finite length warburg Read more… Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequency in rad.s&#94;-1. real(kind=dp), intent(in) :: R Resistance in Ohms. real(kind=dp), intent(in) :: tau Characteristic time in s. real(kind=dp), intent(in) :: n Order of the fsw. Return Value complex(kind=dp) Complex impedance in Ohms. public pure elemental function zq (w, Q, a) result(Z) Compute the complex impedance for a CPE. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: Q Resistance in S.s&#94;-a real(kind=dp), intent(in) :: a CPE exponent Return Value complex(kind=dp) Complex impedance in Ohms. public pure elemental function zr (w, R) result(Z) Compute the complex impedance for a resistor. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: R Resistance in Ohms. Return Value complex(kind=dp) Complex impedance in Ohms. public pure elemental function zt (w, R, tau, n) result(Z) Compute the complex impedance for a finite space warburg Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequency in rad.s&#94;-1. real(kind=dp), intent(in) :: R Resistance in Ohms. real(kind=dp), intent(in) :: tau Characteristic time in s. real(kind=dp), intent(in) :: n Order of the fsw. Return Value complex(kind=dp) Complex impedance in Ohms. public pure elemental function zw (w, s) result(Z) Compute the complex impedance for a semi-infinite Warburg. Arguments Type Intent Optional Attributes Name real(kind=dp), intent(in) :: w Angular frequencies in rad.s&#94;-1. real(kind=dp), intent(in) :: s Pseudo-Resistance in Ohms.s&#94;(1/2). Return Value complex(kind=dp) Complex impedance in Ohms.","tags":"","url":"module/ecx__eis.html"},{"title":"ecx__version – ecx","text":"Version Used by module~~ecx__version~~UsedByGraph module~ecx__version ecx__version module~ecx__api ecx__api module~ecx__api->module~ecx__version module~ecx ecx module~ecx->module~ecx__api module~ecx__capi ecx__capi module~ecx->module~ecx__capi module~ecx__capi->module~ecx__api program~ecxcli ecxcli program~ecxcli->module~ecx Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Variables Type Visibility Attributes Name Initial character(len=*), public, parameter :: version = \"0.1.0dev0\"","tags":"","url":"module/ecx__version.html"},{"title":"ecx__common – ecx","text":"Common module for ecx. Uses stdlib_math iso_c_binding stdlib_optval ieee_arithmetic stdlib_kinds stdlib_constants stdlib_codata module~~ecx__common~~UsesGraph module~ecx__common ecx__common ieee_arithmetic ieee_arithmetic module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Used by module~~ecx__common~~UsedByGraph module~ecx__common ecx__common module~ecx__api ecx__api module~ecx__api->module~ecx__common module~ecx__core ecx__core module~ecx__api->module~ecx__core module~ecx__eis ecx__eis module~ecx__api->module~ecx__eis module~ecx__capi ecx__capi module~ecx__capi->module~ecx__common module~ecx__capi->module~ecx__api module~ecx__capi->module~ecx__core module~ecx__core->module~ecx__common module~ecx__eis->module~ecx__common module~ecx__eis->module~ecx__core module~ecx__pec ecx__pec module~ecx__pec->module~ecx__common module~ecx__pec->module~ecx__core module~ecx ecx module~ecx->module~ecx__api module~ecx->module~ecx__capi program~ecxcli ecxcli program~ecxcli->module~ecx Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. Variables Type Visibility Attributes Name Initial real(kind=dp), public, parameter :: PI = PI_dp real(kind=dp), public, parameter :: T_K = 273.15_dp real(kind=dp), public, parameter :: c = SPEED_OF_LIGHT_IN_VACUUM%value real(kind=c_double), public, bind(C, name=\"0\") :: capi_PI = PI real(kind=c_double), public, bind(C, name=\"0\") :: capi_T_K = T_K real(kind=dp), public, parameter :: h_eV = PLANCK_CONSTANT_IN_EV_HZ%value real(kind=dp), public, parameter :: kB_eV = BOLTZMANN_CONSTANT_IN_EV_K%value","tags":"","url":"module/ecx__common.html"},{"title":"ecxcli – ecx","text":"Uses M_CLI2 ecx ieee_arithmetic iso_fortran_env ciaaw program~~ecxcli~~UsesGraph program~ecxcli ecxcli M_CLI2 M_CLI2 program~ecxcli->M_CLI2 ciaaw ciaaw program~ecxcli->ciaaw ieee_arithmetic ieee_arithmetic program~ecxcli->ieee_arithmetic iso_fortran_env iso_fortran_env program~ecxcli->iso_fortran_env module~ecx ecx program~ecxcli->module~ecx module~ecx__api ecx__api module~ecx->module~ecx__api module~ecx__capi ecx__capi module~ecx->module~ecx__capi module~ecx__common ecx__common module~ecx__api->module~ecx__common module~ecx__core ecx__core module~ecx__api->module~ecx__core module~ecx__eis ecx__eis module~ecx__api->module~ecx__eis module~ecx__version ecx__version module~ecx__api->module~ecx__version module~ecx__capi->module~ecx__api module~ecx__capi->module~ecx__common module~ecx__capi->module~ecx__core module~ecx__common->ieee_arithmetic iso_c_binding iso_c_binding module~ecx__common->iso_c_binding stdlib_codata stdlib_codata module~ecx__common->stdlib_codata stdlib_constants stdlib_constants module~ecx__common->stdlib_constants stdlib_kinds stdlib_kinds module~ecx__common->stdlib_kinds stdlib_math stdlib_math module~ecx__common->stdlib_math stdlib_optval stdlib_optval module~ecx__common->stdlib_optval module~ecx__core->module~ecx__common module~ecx__eis->module~ecx__common module~ecx__eis->module~ecx__core Help Graph Key Nodes of different colours represent the following: Graph Key Module Module Submodule Submodule Subroutine Subroutine Function Function Program Program This Page's Entity This Page's Entity Solid arrows point from a submodule to the (sub)module which it is\ndescended from. Dashed arrows point from a module or program unit to \nmodules which it uses. CLI interface for electrochemistry. Calls program~~ecxcli~~CallsGraph program~ecxcli ecxcli get_saw get_saw program~ecxcli->get_saw get_subcommand get_subcommand program~ecxcli->get_subcommand get_z_by_symbol get_z_by_symbol program~ecxcli->get_z_by_symbol lget lget program~ecxcli->lget print_periodic_table print_periodic_table program~ecxcli->print_periodic_table proc~get_help_saw get_help_saw program~ecxcli->proc~get_help_saw proc~get_version get_version program~ecxcli->proc~get_version proc~print_text print_text program~ecxcli->proc~print_text set_args set_args program~ecxcli->set_args set_mode set_mode program~ecxcli->set_mode unnamed unnamed program~ecxcli->unnamed Help Graph Key Nodes of different colours represent the following: Graph Key Subroutine Subroutine Function Function Interface Interface Type Bound Procedure Type Bound Procedure Unknown Procedure Type Unknown Procedure Type Program Program This Page's Entity This Page's Entity Solid arrows point from a procedure to one which it calls. Dashed \narrows point from an interface to procedures which implement that interface.\nThis could include the module procedures in a generic interface or the\nimplementation in a submodule of an interface in a parent module. Variables Type Attributes Name Initial character(len=:), pointer :: char_fp (:) character(len=32) :: cmd real(kind=real64) :: dr character(len=3) :: elmt character(len=:), allocatable, target :: help_text (:) integer :: i real(kind=real64) :: r character(len=:), allocatable, target :: usage_text (:) character(len=:), allocatable, target :: version_text (:) integer(kind=int32) :: zmass Functions function get_help_saw () result(res) Get the help text for the subcommand saw. Arguments None Return Value character(len=80), allocatable, (:) Subroutines subroutine print_text (char_fp) Arguments Type Intent Optional Attributes Name character(len=:), intent(in), pointer :: char_fp (:)","tags":"","url":"program/ecxcli.html"},{"title":"ecx_core.f90 – ecx","text":"This file depends on sourcefile~~ecx_core.f90~~EfferentGraph sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Files dependent on this one sourcefile~~ecx_core.f90~~AfferentGraph sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx_api.f90->sourcefile~ecx_core.f90 sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_api.f90->sourcefile~ecx_eis.f90 sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_core.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_core.f90 sourcefile~ecx_pec.f90 ecx_pec.f90 sourcefile~ecx_pec.f90->sourcefile~ecx_core.f90 sourcefile~ecx.f90 ecx.f90 sourcefile~ecx.f90->sourcefile~ecx_api.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~main.f90 main.f90 sourcefile~main.f90->sourcefile~ecx.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code module ecx__core !! Core. use ecx__common private public :: roundn , assertEqual , nm2eV , deg2rad , rad2deg contains pure elemental function roundn ( x , n ) result ( r ) !! Round x to n digits. implicit none real ( dp ), intent ( in ) :: x !! Number to be rounded. integer ( int32 ), intent ( in ) :: n !! Number of digits.s real ( dp ) :: r !! Rounded number real ( dp ) :: fac fac = 10 ** n r = nint ( x * fac , kind = kind ( x )) / fac end function function assertEqual ( x1 , x2 , n ) result ( r ) !! Assert if two numbers are equal. implicit none real ( dp ), intent ( in ) :: x1 !! First number to be compared. real ( dp ), intent ( in ) :: x2 !! Second number to be compared. integer ( int32 ), intent ( in ) :: n !! Number of digits. logical :: r !! Comparison result. real ( dp ) :: fac real ( dp ) :: ix1 real ( dp ) :: ix2 if ( ieee_is_nan ( x1 ) . or . ieee_is_nan ( x2 )) then r = . false . else fac = 10 ** n ix1 = nint ( x1 * fac , kind = kind ( n )) ix2 = nint ( x2 * fac , kind = kind ( n )) r = ix1 == ix2 endif end function pure subroutine ecx_core_linspace ( start , end , x ) !! Linear spaced 1d-array. real ( dp ), intent ( in ) :: start !! Starting value. real ( dp ), intent ( in ) :: end !! Ending value (included). integer ( int32 ), intent ( out ) :: x (:) !! 1d-array where to put the linear spaced values. real ( dp ) :: dx integer ( int32 ) :: n , i n = size ( x ) dx = ( end - start ) / ( n - 1 ) do i = 1 , n x ( i ) = start + dx * ( i - 1 ) end do x = linspace ( start , end , size ( x )) end subroutine pure subroutine ecx_core_logspace ( start , end , x ) !! Log spaced 1d-array. real ( dp ), intent ( in ) :: start !! Starting value. real ( dp ), intent ( in ) :: end !! Ending value (included). integer ( int32 ), intent ( out ) :: x (:) !! 1d-array where to put the log spaced values. x (:) = logspace ( start , end , size ( x )) end subroutine pure elemental function nm2eV ( lambda ) result ( E ) !! Convert wavelength to energy implicit none real ( dp ), intent ( in ) :: lambda !! Wavelength in nm. real ( dp ) :: E !! Energy in eV. E = h_eV * c / ( lambda * 1.0d-9 ) end function pure elemental function eV2nm ( E ) result ( lambda ) !! Convert wavelength to energy implicit none real ( dp ), intent ( in ) :: E !! Energy in eV. real ( dp ) :: lambda !! Wavelength in nm. lambda = h_eV * c / ( E * 1.0d-9 ) end function pure elemental function deg2rad ( theta ) result ( phase ) !! Converts degrees to rad. implicit none real ( dp ), intent ( in ) :: theta !! Angle in degrees. real ( dp ) :: phase !! Angle in rad. phase = theta * PI / 18 0.0_dp end pure elemental function rad2deg ( phase ) result ( theta ) !! Converts degrees to rad. implicit none real ( dp ), intent ( in ) :: phase !! Angle in rad. real ( dp ) :: theta !! Angle in degrees. theta = phase * 18 0.0_dp / PI end end module","tags":"","url":"sourcefile/ecx_core.f90.html"},{"title":"ecx_capi.f90 – ecx","text":"This file depends on sourcefile~~ecx_capi.f90~~EfferentGraph sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_common.f90 sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_core.f90 sourcefile~ecx_api.f90->sourcefile~ecx_common.f90 sourcefile~ecx_api.f90->sourcefile~ecx_core.f90 sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_api.f90->sourcefile~ecx_eis.f90 sourcefile~ecx_version.f90 ecx_version.f90 sourcefile~ecx_api.f90->sourcefile~ecx_version.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_core.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Files dependent on this one sourcefile~~ecx_capi.f90~~AfferentGraph sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx.f90 ecx.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~main.f90 main.f90 sourcefile~main.f90->sourcefile~ecx.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code module ecx__capi use ecx__common use ecx__core use ecx__api character ( len = :), allocatable , target :: errmsg_c character ( len = :), allocatable , target :: version_c contains function capi_get_version () bind ( c , name = \"ecx_get_version\" ) result ( cptr ) !! C API - Get the version. implicit none ! Returns type ( c_ptr ) :: cptr !! Pointer to version string. character ( len = :), pointer :: fptr fptr => get_version () if ( allocated ( version_c )) then deallocate ( version_c ) endif allocate ( character ( len = len ( fptr ) + 1 ) :: version_c ) version_c = fptr // c_null_char cptr = c_loc ( version_c ) end function ! CORE ------------------------------------------------------------------------- pure subroutine capi_nm2eV ( lambda , E , n ) bind ( C , name = \"ecx_core_nm2eV\" ) !! C API - Convert wavelength to energy integer ( c_size_t ), intent ( in ), value :: n !! Size of lambda and E. real ( c_double ), intent ( in ) :: lambda ( n ) !! Wavelength in nm. real ( c_double ), intent ( out ) :: E ( n ) !! Energy in eV. E = nm2eV ( lambda ) end subroutine pure subroutine capi_kTe ( T , kTe_ , n ) bind ( C , name = \"ecx_core_kTe\" ) !! Compute the thermal voltage. integer ( c_size_t ), intent ( in ), value :: n !! Size of T and kTe. real ( c_double ), intent ( in ) :: T ( n ) !! Temperature in °C. real ( c_double ), intent ( out ) :: kTe_ ( n ) !! Thermal voltage in V. kTe_ = kTe ( T ) end subroutine ! EIS ------------------------------------------------------------------------- subroutine capi_z ( p , w , zout , e , k , n , errstat , errmsg ) bind ( C , name = \"ecx_eis_z\" ) !! Compute the complex impedance for the given element. integer ( c_size_t ), intent ( in ), value :: n !! Size of w integer ( c_size_t ), intent ( in ), value :: k !! Size of p character ( len = 1 , kind = c_char ), intent ( in ), value :: e !! Electrochemical element: R, C, L, Q, O, T, G real ( c_double ), intent ( in ) :: p ( k ) !! Parameters. real ( c_double ), intent ( in ) :: w ( n ) !! Angular frequencies in rad.s-1 complex ( c_double_complex ), intent ( out ) :: zout ( n ) !! Complex impedance in Ohms. integer ( c_int ), intent ( out ) :: errstat !! Error status type ( c_ptr ), intent ( out ) :: errmsg !! errmsg Error message character ( len = :), pointer :: fptr call z ( p , w , zout , e , errstat , fptr ) if ( allocated ( errmsg_c )) then deallocate ( errmsg_c ) endif allocate ( character ( len = len ( fptr ) + 1 ) :: errmsg_c ) errmsg_c = fptr // c_null_char errmsg = c_loc ( errmsg_c ) end subroutine ! KINETICS ------------------------------------------------------------------------- pure function capi_nernst ( E0 , z , aox , vox , nox , ared , vred , nred , T ) result ( E ) bind ( C , name = \"ecx_kinetics_nernst\" ) !! Compute the Nernst electrochemical potential in V. implicit none real ( c_double ), intent ( in ), value :: E0 !! Standard electrochemical potential in V. integer ( c_int ), intent ( in ), value :: z !! Number of exchanged electrons. integer ( c_size_t ), intent ( in ), value :: nox !! Number of oxidants. integer ( c_size_t ), intent ( in ), value :: nred !! Number of reductants. real ( c_double ), intent ( in ) :: aox ( nox ) !! Activities of the oxidants. real ( c_double ), intent ( in ) :: vox ( nox ) !! Coefficients for the oxidants. real ( c_double ), intent ( in ) :: ared ( nred ) !! Activities of the reductants real ( c_double ), intent ( in ) :: vred ( nred ) !! Coefficients for the reductants. real ( c_double ), intent ( in ), value :: T !! Temperature in °C. real ( c_double ) :: E E = nernst ( E0 , z , aox , vox , ared , vred , T ) end function pure subroutine capi_sbv ( U , OCV , j0 , aa , ac , za , zc , A , T , I , n ) bind ( c , name = \"ecx_kinetics_sbv\" ) !! Compute Butler Volmer equation without mass transport. ! arguments integer ( c_size_t ), intent ( in ), value :: n !! Size of U and I. real ( c_double ), intent ( in ), value :: OCV !! Open circuit potential in volts. real ( c_double ), intent ( in ) :: U ( n ) !! Potential in volts. real ( c_double ), intent ( in ), value :: j0 !! Exchange current density in A.cm-2. real ( c_double ), intent ( in ), value :: aa !! Anodic transfert coefficient. real ( c_double ), intent ( in ), value :: ac !! Cathodic transfert coefficient. real ( c_double ), intent ( in ), value :: za !! Number of exchanged electrons in anodic branch. real ( c_double ), intent ( in ), value :: zc !! Number of exchanged electrons in cathodic branch. real ( c_double ), intent ( in ), value :: A !! Area in cm2. real ( c_double ), intent ( in ), value :: T !! Temperature in °C. real ( c_double ), intent ( out ) :: I ( n ) !! Current in A. I = sbv ( U , OCV , j0 , aa , ac , za , zc , A , T ) end subroutine pure subroutine capi_bv ( U , OCV , j0 , jdla , jdlc , aa , ac , za , zc , A , T , I , n ) bind ( c , name = \"ecx_kinetics_bv\" ) !! Compute Butler Volmer equation without mass transport. ! arguments integer ( c_size_t ), intent ( in ), value :: n !! Size of U and I. real ( c_double ), intent ( in ), value :: OCV !! Open circuit potential in volts. real ( c_double ), intent ( in ) :: U ( n ) !! Potential in volts. real ( c_double ), intent ( in ), value :: j0 !! Exchange current density in A.cm-2 real ( c_double ), intent ( in ), value :: jdla !! Anodic diffusion limiting current density in A.cm-2. real ( c_double ), intent ( in ), value :: jdlc !! Cathodic diffusion limiting current density in A.cm-2. real ( c_double ), intent ( in ), value :: aa !! Anodic transfert coefficient. real ( c_double ), intent ( in ), value :: ac !! Cathodic transfert coefficient. real ( c_double ), intent ( in ), value :: za !! Number of exchanged electrons in anodic branch. real ( c_double ), intent ( in ), value :: zc !! Number of exchanged electrons in cathodic branch. real ( c_double ), intent ( in ), value :: A !! Area in cm2. real ( c_double ), intent ( in ), value :: T !! Temperature in °C. real ( c_double ), intent ( out ) :: I ( n ) !! Current in A. I = bv ( U , OCV , j0 , jdla , jdlc , aa , ac , za , zc , A , T ) end subroutine end module ecx__capi","tags":"","url":"sourcefile/ecx_capi.f90.html"},{"title":"ecx.f90 – ecx","text":"This file depends on sourcefile~~ecx.f90~~EfferentGraph sourcefile~ecx.f90 ecx.f90 sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_api.f90->sourcefile~ecx_common.f90 sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_api.f90->sourcefile~ecx_core.f90 sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_api.f90->sourcefile~ecx_eis.f90 sourcefile~ecx_version.f90 ecx_version.f90 sourcefile~ecx_api.f90->sourcefile~ecx_version.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_common.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_core.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_core.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Files dependent on this one sourcefile~~ecx.f90~~AfferentGraph sourcefile~ecx.f90 ecx.f90 sourcefile~main.f90 main.f90 sourcefile~main.f90->sourcefile~ecx.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code module ecx !! Main module for ecx. use ecx__api use ecx__capi end module","tags":"","url":"sourcefile/ecx.f90.html"},{"title":"main.f90 – ecx","text":"This file depends on sourcefile~~main.f90~~EfferentGraph sourcefile~main.f90 main.f90 sourcefile~ecx.f90 ecx.f90 sourcefile~main.f90->sourcefile~ecx.f90 sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_api.f90->sourcefile~ecx_common.f90 sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_api.f90->sourcefile~ecx_core.f90 sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_api.f90->sourcefile~ecx_eis.f90 sourcefile~ecx_version.f90 ecx_version.f90 sourcefile~ecx_api.f90->sourcefile~ecx_version.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_common.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_core.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_core.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code program ecxcli !! CLI interface for electrochemistry. use ieee_arithmetic , only : ieee_is_nan use iso_fortran_env , only : real64 , int32 , output_unit use ecx use ciaaw , only : ciaaw_version => get_version , get_saw , print_periodic_table ,& get_z_by_symbol use M_CLI2 implicit none integer :: i integer ( int32 ) :: zmass real ( real64 ) :: r , dr character ( len = 32 ) :: cmd character ( len = :), allocatable , target :: help_text (:), version_text (:), usage_text (:) character ( len = :), pointer :: char_fp (:) character ( len = 3 ) :: elmt nullify ( char_fp ) help_text = [ character ( len = 80 ) :: & 'NAME                                                            ' , & '  ecxcli(1) - Command line for ecx                              ' , & '                                                                ' , & 'SYNOPSIS                                                        ' , & '  ecxcli SUBCOMMAND [OPTIONS ...] ARGS ...                      ' , & '                                                                ' , & 'DESCRIPTION                                                     ' , & '  ecxcli is command line interface for computing electro-       ' , & '  chemical properties:                                          ' , & '    o EIS         Electrochemical Impedance Z=f(w)              ' , & '    o Kinetics    j=f(U)                                        ' , & '    o PEC         Iph=f(hv, U)                                  ' , & '                                                                ' , & '  It can also provide the molar masses, isotope compositions and' , & '  nuclide compositions.' , & '                                                                ' , & 'SUBCOMMANDS                                                     ' , & '  o all  Get the whole periodic table.                          ' , & '  o saw  Get the standard atomic weight.                        ' , & !'  o ice  Get the isotopic composition of the element.           ', & !'  o naw  Get the nuclide atomic weight.                         ', & '                                                                ' , & '  Enter ecxcli SUBCOMMAND --help for detailed descriptions.     ' , & '                                                                ' , & 'OPTIONS                                                         ' , & '  o --abridged, -a     Use the abridged value.                  ' , & '  o --uncertainty, -u  Use the uncertainty.                     ' , & '  o --pprint           Nice formatting.                         ' , & '  o --mass, -z         Get the mass number.                     ' , & '                                                                ' , & 'VALID FOR ALL SUBCOMMANDS                                       ' , & '  o --help     Show help text and exit                          ' , & '  o --verbose  Display additional information when available.   ' , & '  o --version  Show version information and exit.               ' , & '                                                                ' , & '' ] version_text = [ character ( len = 80 ) :: & 'PROGRAM:      ecxcli                ' , & 'DESCRIPTION:  Command line for ecx  ' , & 'VERSION:      ' // get_version () // '   ' , & 'AUTHOR:       M. Skocic             ' , & 'LICENSE:      MIT                   ' , & '' ] usage_text = [ character ( len = 80 ) :: & 'Usage: ecxcli SUBCOMMAND [OPTIONS...]|[--help|--version] ELEMENTS...' , & '' ] cmd = get_subcommand () call set_mode ( 'strict' ) select case ( cmd ) case ( \"saw\" ) call set_args ( \"--abridged:a --uncertainty:u --mass:z --pprint\" , get_help_saw (), version_text ) if ( size ( unnamed ) == 1 ) then write ( output_unit , \"(A)\" ) \"Enter at least one element.\" char_fp => usage_text call print_text ( char_fp ) stop end if do i = 2 , size ( unnamed ) elmt = unnamed ( i ) zmass = get_z_by_symbol ( elmt ) if ( lget ( \"pprint\" )) then r = get_saw ( elmt , abridged = lget ( \"a\" )) dr = get_saw ( elmt , abridged = lget ( \"a\" ), uncertainty = . true .) if ( lget ( \"mass\" )) then write ( output_unit , '(A4, A3, A3, SP, G14.6, A3, ES14.2, S, A5, I3, A1)' ) & 'SAW_' , elmt , \" = \" , r , \"+/-\" , dr , ' (Z=' , zmass , ')' else write ( output_unit , '(A4, A3, A3, SP, G14.6, A3, ES14.2)' ) & 'SAW_' , elmt , \" = \" , r , \"+/-\" , dr end if else r = get_saw ( elmt , abridged = lget ( \"a\" ), uncertainty = lget ( \"u\" )) if ( lget ( \"mass\" )) then write ( output_unit , '(I4, 4X, G0.16)' ) zmass , r else write ( output_unit , '(G0.16)' ) r end if end if end do case ( \"all\" ) call set_args ( \" \" , help_text , version_text ) call print_periodic_table () case default call set_args ( \" \" , help_text , version_text ) char_fp => usage_text call print_text ( char_fp ) end select contains function get_help_saw () result ( res ) !! Get the help text for the subcommand saw. character ( len = 80 ), allocatable :: res (:) res = [ character ( len = 80 ) :: & 'NAME                                                            ' , & '  saw - th ecxcli subcommand to get the standard atomic weight. ' , & '                                                                ' , & 'SYNOPSIS                                                        ' , & '  ecxcli saw [OPTIONS ...] ELEMENTS ...                      ' , & '                                                                ' , & 'DESCRIPTION                                                     ' , & '  Provide the saw either abridged or not.                       ' , & '  The uncertainty of the saw can be retrieved too.              ' , & '                                                                ' , & 'OPTIONS                                                         ' , & '  o --abridged, -a     Use the abridged value.                  ' , & '  o --uncertainty, -u  Use the uncertainty.                     ' , & '  o --pprint           Nice formatting.                         ' , & '  o --mass, -z         Get the mass number.                     ' , & '                                                                ' , & 'VALID FOR ALL SUBCOMMANDS                                       ' , & '  o --help     Show help text and exit                          ' , & '  o --verbose  Display additional information when available.   ' , & '  o --version  Show version information and exit.               ' , & '                                                                ' , & 'EXAMPLE                                                         ' , & '  Minimal example                                               ' , & '      ecxcli saw H                                              ' , & '      ecxcli saw -a -u O                                        ' , & '      ecxcli saw H C B O Zr Nb --pprint                         ' , & '      ecxcli saw -a H C B O Zr Nb --pprint                      ' , & '                                                                ' , & '' ] end function subroutine print_text ( char_fp ) character ( len = :), pointer , intent ( in ) :: char_fp (:) integer :: i do i = 1 , size ( char_fp ), 1 write ( OUTPUT_UNIT , '(A)' ) char_fp ( i ) end do end subroutine end program","tags":"","url":"sourcefile/main.f90.html"},{"title":"ecx_api.f90 – ecx","text":"This file depends on sourcefile~~ecx_api.f90~~EfferentGraph sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_api.f90->sourcefile~ecx_common.f90 sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_api.f90->sourcefile~ecx_core.f90 sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_api.f90->sourcefile~ecx_eis.f90 sourcefile~ecx_version.f90 ecx_version.f90 sourcefile~ecx_api.f90->sourcefile~ecx_version.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_core.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Files dependent on this one sourcefile~~ecx_api.f90~~AfferentGraph sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx.f90 ecx.f90 sourcefile~ecx.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~main.f90 main.f90 sourcefile~main.f90->sourcefile~ecx.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code module ecx__api !! API use ecx__version , only : version use ecx__common use ecx__core use ecx__eis implicit none private character ( len = :), allocatable , target :: version_f character ( len = :), allocatable , target :: errmsg_f character ( len = :), allocatable , target :: errmsg_c public :: get_version , kTe , z , mm public :: sbv , bv , nernst contains function get_version () result ( fptr ) !! Get the version. implicit none character ( len = :), pointer :: fptr !! Version of the library. if ( allocated ( version_f )) then deallocate ( version_f ) endif allocate ( character ( len = len ( version )) :: version_f ) version_f = version fptr => version_f end function pure elemental function kTe ( T ) result ( r ) !! Compute the thermal voltage. implicit none real ( dp ), intent ( in ) :: T !! Temperature in °C. real ( dp ) :: r !! Thermal voltage in V. r = ( T + T_K ) * kB_eV end function subroutine z ( p , w , zout , e , errstat , errmsg ) implicit none real ( dp ), intent ( in ) :: p (:) real ( dp ), intent ( in ) :: w (:) !! Angular frequencies in rad.s-1 character ( len = 1 ), intent ( in ) :: e !! Electrochemical element: R, C, L, Q, O, T, G complex ( dp ), intent ( out ) :: zout (:) !! Complex impedance in Ohms. integer ( int32 ), intent ( out ) :: errstat !! Error status character ( len = :), intent ( out ), pointer :: errmsg !! Error message if ( allocated ( errmsg_f )) then deallocate ( errmsg_f ) endif errstat = 0 if ( size ( p ) < 3 ) then errmsg_f = \"The size of p must be 3.\" errstat = 1 zout = cmplx ( ieee_value ( 0.0_dp , ieee_quiet_nan ), & ieee_value ( 0.0_dp , ieee_quiet_nan ), & dp ) else select case ( e ) case ( \"R\" ) zout = zr ( w , p ( 1 )) errmsg_f = \"No error\" case ( \"C\" ) zout = zc ( w , p ( 1 )) errmsg_f = \"No error\" case ( \"L\" ) zout = zl ( w , p ( 1 )) errmsg_f = \"No error\" case ( \"W\" ) zout = zw ( w , p ( 1 )) errmsg_f = \"No error\" case ( \"Q\" ) zout = zq ( w , p ( 1 ), p ( 2 )) errmsg_f = \"No error\" case ( \"O\" ) zout = zo ( w , p ( 1 ), p ( 2 ), p ( 3 )) errmsg_f = \"No error\" case ( \"T\" ) zout = zt ( w , p ( 1 ), p ( 2 ), p ( 3 )) errmsg_f = \"No error\" case ( \"G\" ) zout = zg ( w , p ( 1 ), p ( 2 )) errmsg_f = \"No error\" case DEFAULT errstat = 2 errmsg_f = \"Unknown element: \" // e zout = cmplx ( ieee_value ( 0.0_dp , ieee_quiet_nan ), & ieee_value ( 0.0_dp , ieee_quiet_nan ), & dp ) end select endif errmsg => errmsg_f end subroutine subroutine mm ( p , w , zout , n ) !! Compute the measurement model. real ( dp ), intent ( in ) :: p (:) !! Parameters. real ( dp ), intent ( in ) :: w (:) !! Angular frequencies in rad.s-1 complex ( dp ), intent ( out ) :: zout (:) !! Complex impedance in Ohms. integer ( int32 ), intent ( in ) :: n !! Number of voigt elements. integer ( int32 ) :: i integer ( int32 ) :: errstat character ( len = :), pointer :: errmsg complex ( dp ) :: zr ( size ( zout )) complex ( dp ) :: zc ( size ( zout )) if ( n < 1 ) then errstat = 3 zout = cmplx ( ieee_value ( 0.0_dp , ieee_quiet_nan ), ieee_value ( 0.0_dp , ieee_quiet_nan ), dp ) else if ( size ( p ) == ( 1 + n * 2 )) then call z ( p , w , zout , \"R\" , errstat , errmsg ) do i = 1 , n - 2 call z ( p ( i + 1 :), w , zr , \"R\" , errstat , errmsg ) call z ( p ( i + 2 :), w , zc , \"C\" , errstat , errmsg ) zout = zout + ( zr * zc ) / ( zr + zc ) enddo else errstat = 4 zout = cmplx ( ieee_value ( 0.0_dp , ieee_quiet_nan ), ieee_value ( 0.0_dp , ieee_quiet_nan ), dp ) endif endif end subroutine pure function nernst ( E0 , z , aox , vox , ared , vred , T ) result ( E ) !! Compute the Nernst electrochemical potential in V. implicit none real ( dp ), intent ( in ) :: E0 !! Standard electrochemical potential in V. integer ( int32 ), intent ( in ) :: z !! Number of exchanged electrons. real ( dp ), intent ( in ) :: aox (:) !! Activities of the oxidants. real ( dp ), intent ( in ) :: vox (:) !! Coefficients for the oxidants. real ( dp ), intent ( in ) :: ared (:) !! Activities of the reductants real ( dp ), intent ( in ) :: vred (:) !! Coefficients for the reductants. real ( dp ), intent ( in ) :: T !! Temperature in °C. real ( dp ) :: E , ox , red , kTe_ kTe_ = kTe ( T ) ox = product ( aox ** vox ) red = product ( ared ** vred ) E = E0 + kTe_ / z * log ( ox / red ) end function pure elemental function sbv ( U , OCV , j0 , aa , ac , za , zc , A , T ) result ( I ) !! Compute Butler Volmer equation without mass transport. real ( dp ), intent ( in ) :: OCV !! Open Circuit Voltage in V. real ( dp ), intent ( in ) :: U !! Electrochemical potential in V. real ( dp ), intent ( in ) :: j0 !! Exchange current density in A.cm-2. real ( dp ), intent ( in ) :: aa !! Anodic transfer coefficient. real ( dp ), intent ( in ) :: ac !! Cathodic transfer coefficient. real ( dp ), intent ( in ) :: za !! Number of exchnaged electrons in the anodic branch. real ( dp ), intent ( in ) :: zc !! Number of exchnaged electrons in the cathodic branch. real ( dp ), intent ( in ) :: A !! Area in cm2. real ( dp ), intent ( in ) :: T !! Temperature in °C. real ( dp ) :: I real ( dp ) :: kTe_ kTe_ = kTe ( T ) I = A * j0 * ( exp ( aa * za * ( U - OCV ) / kTe_ ) - exp ( - ac * zc * ( U - OCV ) / kTe_ )); end function pure elemental function bv ( U , OCV , j0 , jdla , jdlc , aa , ac , za , zc , A , T ) result ( I ) !! Compute Butler Volmer equation with mass transport. implicit none real ( dp ), intent ( in ) :: OCV !! Open Circuit Voltage in V. real ( dp ), intent ( in ) :: U !! Electrochemical potential in V. real ( dp ), intent ( in ) :: j0 !! Exchange current density in A.cm-2. real ( dp ), intent ( in ) :: jdla !! Anodic diffusion limiting current density in A.cm-2. real ( dp ), intent ( in ) :: jdlc !! Cathodic diffusion limiting current density in A.cm-2. real ( dp ), intent ( in ) :: aa !! Anodic transfer coefficient. real ( dp ), intent ( in ) :: ac !! Cathodic transfer coefficient. real ( dp ), intent ( in ) :: za !! Number of exchnaged electrons in the anodic branch. real ( dp ), intent ( in ) :: zc !! Number of exchnaged electrons in the cathodic branch. real ( dp ), intent ( in ) :: A !! Area in cm2. real ( dp ), intent ( in ) :: T !! Temperature in °C. real ( dp ) :: I , kTe_ , num , denom kTe_ = kTe ( T ) num = sbv ( U , OCV , j0 , aa , ac , za , zc , 1.0_dp , T ) denom = 1 + j0 / jdla * exp ( aa * za * ( U - OCV ) / kTe_ ) + j0 / jdlc * exp ( - ac * zc * ( U - OCV ) / kTe_ ); I = A * num / denom ; end function end module ecx__api","tags":"","url":"sourcefile/ecx_api.f90.html"},{"title":"ecx_pec.f90 – ecx","text":"This file depends on sourcefile~~ecx_pec.f90~~EfferentGraph sourcefile~ecx_pec.f90 ecx_pec.f90 sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_pec.f90->sourcefile~ecx_common.f90 sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_pec.f90->sourcefile~ecx_core.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code !> @brief PEC module ecx__pec !! PEC. use ecx__common use ecx__core implicit none private public :: alpha , iph contains pure elemental function alpha ( hv , Eg , n ) result ( res ) !! Compute the not scaled absorbance coefficient. implicit none real ( real64 ), intent ( in ) :: hv !! Light energy in eV. real ( real64 ), intent ( in ) :: Eg !! Bandgap in eV. real ( real64 ), intent ( in ) :: n !! Exponent for direct (1/2) or indirect transition (2) real ( real64 ) :: res !! Absorbance coefficient in eV. real ( real64 ) :: d d = hv - Eg if ( d > 0.0_dp ) then res = ( hv - Eg ) ** n / hv else res = 0.0_dp endif end function pure elemental function iph ( hv , K , Eg , theta , n ) result ( res ) !! Compute the complex photocurrent !! Compute the complex photocurrent. implicit none real ( real64 ), intent ( in ) :: hv !! Light energy in eV. real ( real64 ), intent ( in ) :: K !! Scaling factor for absorbance in . real ( real64 ), intent ( in ) :: Eg !! Bandgap in eV. real ( real64 ), intent ( in ) :: theta !! Phase in degree. real ( real64 ), intent ( in ) :: n !! Transition type: n=1/2 for direct transition and n=2 for indirect transition complex ( real64 ) :: res !! Complex photocurrent Iph real ( real64 ) :: re , im , mod , phase phase = deg2rad ( theta ) mod = K ** n * alpha ( hv , Eg , n ) re = mod * cos ( phase ) im = mod * sin ( phase ) res = cmplx ( re , im , kind = real64 ) end function end module","tags":"","url":"sourcefile/ecx_pec.f90.html"},{"title":"ecx_eis.f90 – ecx","text":"This file depends on sourcefile~~ecx_eis.f90~~EfferentGraph sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_common.f90 sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_core.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Files dependent on this one sourcefile~~ecx_eis.f90~~AfferentGraph sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx_api.f90->sourcefile~ecx_eis.f90 sourcefile~ecx.f90 ecx.f90 sourcefile~ecx.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~main.f90 main.f90 sourcefile~main.f90->sourcefile~ecx.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code module ecx__eis use ecx__common use ecx__core implicit none private character ( len = :), allocatable , target :: errmsg_f character ( len = :), allocatable , target :: errmsg_c public :: zr , zc , zl , zq , zw , zo , zt , zg contains pure elemental function zr ( w , R ) result ( Z ) !! Compute the complex impedance for a resistor. implicit none real ( dp ), intent ( in ) :: R !! Resistance in Ohms. real ( dp ), intent ( in ) :: w !! Angular frequencies in rad.s&#94;-1. complex ( dp ) :: Z !! Complex impedance in Ohms. Z = cmplx ( R , 0.0_dp , kind = dp ) end function pure elemental function zc ( w , C ) result ( Z ) !! Compute the complex impedance for a capacitor. implicit none real ( dp ), intent ( in ) :: C !! Capacitance in Farad. real ( dp ), intent ( in ) :: w !! Angular frequencies in rad.s&#94;-1. complex ( dp ) :: Z !! Complex impedance in Ohms. Z = cmplx ( 0.0_dp , - 1.0_dp / ( C * w ), kind = dp ) end function pure elemental function zl ( w , L ) result ( Z ) !! Compute the complex impedance for an inductor. implicit none real ( dp ), intent ( in ) :: L !! Inductance in Henry. real ( dp ), intent ( in ) :: w !! Angular frequencies in rad.s&#94;-1. complex ( dp ) :: Z !! Complex impedance in Ohms. Z = cmplx ( 0.0_dp , L * w , kind = dp ) end function pure elemental function zq ( w , Q , a ) result ( Z ) !! Compute the complex impedance for a CPE. implicit none real ( dp ), intent ( in ) :: Q !! Resistance in S.s&#94;-a real ( dp ), intent ( in ) :: w !! Angular frequencies in rad.s&#94;-1. real ( dp ), intent ( in ) :: a !! CPE exponent complex ( dp ) :: Z !! Complex impedance in Ohms. real ( dp ) :: mod mod = 1 / ( Q * w ** a ) Z = cmplx ( mod * cos ( a * PI / 2 ), - mod * sin ( a * PI / 2 ), kind = dp ) end function pure elemental function zw ( w , s ) result ( Z ) !! Compute the complex impedance for a semi-infinite Warburg. implicit none real ( dp ), intent ( in ) :: w !! Angular frequencies in rad.s&#94;-1. real ( dp ), intent ( in ) :: s !! Pseudo-Resistance in Ohms.s&#94;(1/2). complex ( dp ) :: Z !! Complex impedance in Ohms. real ( dp ) :: s2 s2 = s / sqrt ( w ) Z = cmplx ( s2 , - s2 , kind = dp ) end function pure elemental function zo ( w , R , tau , n ) result ( Z ) !! @brief Compute the complex impedance for a finite length warburg implicit none real ( dp ), intent ( in ) :: w !! Angular frequency in rad.s&#94;-1. real ( dp ), intent ( in ) :: R !! Resistance in Ohms. real ( dp ), intent ( in ) :: tau !! Characteristic time in s. real ( dp ), intent ( in ) :: n !! Order of the fsw. complex ( dp ) :: Z !! Complex impedance in Ohms. complex ( dp ) :: x x = sqrt ( cmplx ( 0.0_dp , tau * w , kind = dp )) x = x ** n Z = R / x * tanh ( x ) end function pure elemental function zt ( w , R , tau , n ) result ( Z ) !! Compute the complex impedance for a finite space warburg implicit none real ( dp ), intent ( in ) :: w !! Angular frequency in rad.s&#94;-1. real ( dp ), intent ( in ) :: R !! Resistance in Ohms. real ( dp ), intent ( in ) :: tau !! Characteristic time in s. real ( dp ), intent ( in ) :: n !! Order of the fsw. complex ( dp ) :: Z !! Complex impedance in Ohms. complex ( dp ) :: x x = cmplx ( 0.0_dp , tau * w , kind = dp ) x = x ** n Z = R / ( x * tanh ( x )) end function pure elemental function zg ( w , G , K ) result ( Z ) !! Compute the complex impedance of the Gerisher element. implicit none real ( dp ), intent ( in ) :: w !! Angular frequency in rad.s&#94;-1. real ( dp ), intent ( in ) :: G !! Pseudo-Resistance in Ohms.s&#94;(1/2). real ( dp ), intent ( in ) :: K !! Offset in rad.s&#94;-1. complex ( dp ) :: Z !! Complex impedance in Ohms. complex ( dp ) :: x x = cmplx ( 0.0_dp , w , kind = dp ) Z = G / sqrt ( K + x ) end function end module","tags":"","url":"sourcefile/ecx_eis.f90.html"},{"title":"ecx_version.f90 – ecx","text":"Files dependent on this one sourcefile~~ecx_version.f90~~AfferentGraph sourcefile~ecx_version.f90 ecx_version.f90 sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx_api.f90->sourcefile~ecx_version.f90 sourcefile~ecx.f90 ecx.f90 sourcefile~ecx.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~main.f90 main.f90 sourcefile~main.f90->sourcefile~ecx.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code module ecx__version !! Version implicit none private character ( len =* ), parameter , public :: version = \"0.1.0dev0\" end module ecx__version","tags":"","url":"sourcefile/ecx_version.f90.html"},{"title":"ecx_common.f90 – ecx","text":"Files dependent on this one sourcefile~~ecx_common.f90~~AfferentGraph sourcefile~ecx_common.f90 ecx_common.f90 sourcefile~ecx_api.f90 ecx_api.f90 sourcefile~ecx_api.f90->sourcefile~ecx_common.f90 sourcefile~ecx_core.f90 ecx_core.f90 sourcefile~ecx_api.f90->sourcefile~ecx_core.f90 sourcefile~ecx_eis.f90 ecx_eis.f90 sourcefile~ecx_api.f90->sourcefile~ecx_eis.f90 sourcefile~ecx_capi.f90 ecx_capi.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_common.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_api.f90 sourcefile~ecx_capi.f90->sourcefile~ecx_core.f90 sourcefile~ecx_core.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_common.f90 sourcefile~ecx_eis.f90->sourcefile~ecx_core.f90 sourcefile~ecx_pec.f90 ecx_pec.f90 sourcefile~ecx_pec.f90->sourcefile~ecx_common.f90 sourcefile~ecx_pec.f90->sourcefile~ecx_core.f90 sourcefile~ecx.f90 ecx.f90 sourcefile~ecx.f90->sourcefile~ecx_api.f90 sourcefile~ecx.f90->sourcefile~ecx_capi.f90 sourcefile~main.f90 main.f90 sourcefile~main.f90->sourcefile~ecx.f90 Help Graph Key Nodes of different colours represent the following: Graph Key Source File Source File This Page's Entity This Page's Entity Solid arrows point from a file to a file which it depends on. A file\nis dependent upon another if the latter must be compiled before the former\ncan be. Source Code module ecx__common !! Common module for ecx. use ieee_arithmetic use iso_c_binding , only : c_size_t , & c_int , & c_double , & c_double_complex , & c_char , & c_ptr , & c_null_char , & c_loc use stdlib_kinds , only : int64 , dp , int32 , sp use stdlib_optval , only : optval use stdlib_codata , only : PLANCK_CONSTANT_IN_EV_HZ , & SPEED_OF_LIGHT_IN_VACUUM , & BOLTZMANN_CONSTANT_IN_EV_K use stdlib_constants , only : PI_dp use stdlib_math , only : linspace , logspace real ( dp ), parameter :: PI = PI_dp !< PI real ( dp ), parameter :: T_K = 27 3.15_dp !< 0°C in Kelvin. real ( dp ), parameter :: kB_eV = BOLTZMANN_CONSTANT_IN_EV_K % value !< kB real ( dp ), parameter :: h_eV = PLANCK_CONSTANT_IN_EV_HZ % value real ( dp ), parameter :: c = SPEED_OF_LIGHT_IN_VACUUM % value real ( c_double ), bind ( C , name = \"ecx_core_PI\" ) :: & capi_PI = PI real ( c_double ), bind ( C , name = \"ecx_core_T_K\" ) :: & capi_T_K = T_K end module","tags":"","url":"sourcefile/ecx_common.f90.html"}]}